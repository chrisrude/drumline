import{w as xe}from"../chunks/index.3aa52984.js";import{s as ae,i as We,n as U,o as $e,r as et,b as ee,f as te}from"../chunks/scheduler.ba2ce6c0.js";import{S as ge,i as de,g as k,h as E,j as B,f as m,k as y,l as R,a as p,z as ne,A as _e,m as j,s as O,n as J,c as L,y as T,e as se,B as H,o as we,x as he,d as N,p as be,b as Ce,t as P,r as ue,u as oe,v as fe,w as ce,C as tt,D as ye,E as le}from"../chunks/index.be9bd1cf.js";function F(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}const ke="drumline-puzzle",je=26,lt=Array.from({length:je},(l,e)=>(e+1).toString()),Je=Array.from({length:je},(l,e)=>String.fromCharCode(e+65)),nt=Je.map(l=>l.toLowerCase()),it="ROWS",st="BANDS";function De(l,e){const[t]=l.split(e,1),n=l.slice(t.length+e.length);return[t,n]}function Ie(l,e){let t=[],n=[...e],s=n.shift();for(const i of l){let[r,o]=De(i," ");if(r===s&&(t.push([]),s=n.shift(),[r,o]=De(o," ")),t.length===0)continue;let u=t[t.length-1],h=nt[u.length];if(r===h)u.push({identifier:h,text:o,answer:""});else{if(u.length===0)continue;u[u.length-1].text+=" "+i}}return t}function rt(l){let e=[],t=[],n=!1,s=!1,i=null;for(const u of l){const h=u.trim();if(h.length!==0){if(!n&&h===it){n=!0,i=e;continue}if(!s&&h===st){s=!0,i=t;continue}i!==null&&i.push(h)}}let r=Ie(e,lt),o=Ie(t,Je);return[r.map(u=>({clues:u})),o.map(u=>({clues:u,start_offset:0}))]}var Re=l=>{if(l===void 0)return!1;const e=Math.floor(l.size/2);for(let t=0;t<l.size;t++)for(let n=0;n<l.size;n++)if(!(t===e&&n===e)&&l.grid[t][n]===" ")return!1;return!0};const Xe=(l,e)=>{let t=[];for(let n=e;n<l.size-e;n++)t.push([e,n]);for(let n=e+1;n<l.size-e;n++)t.push([n,l.size-e-1]);for(let n=l.size-e-1;n>=e;n--)t.push([l.size-e-1,n]);for(let n=l.size-e-1;n>=e;n--)t.push([n,e]);return t},Be=(l,e,t)=>{if(l===void 0)return!1;if(e){const i=Xe(l,t);for(const[r,o]of i)if(l.grid[r][o]===" ")return!1;return!0}let n=t;const s=Math.floor(l.size/2);for(let i=0;i<l.size;i++)if(l.grid[n][i]===" "){if(n===s&&i===s)continue;return!1}return!0};function ut(l){const e=l.split(`
`),[t,n]=rt(e);if(t.length===0)throw new Error("No rows found");if(n.length===0)throw new Error("No bands found");const s=n.length*2+1;if(t.length!==s)throw new Error(`Expected ${s} rows, because we had ${n.length} bands but found ${t.length} rows instead`);const i=t.length;let r=[];for(let o=0;o<i;o++){r[o]=[];for(let u=0;u<i;u++)r[o][u]=" "}return{input_text:l,size:t.length,rows:t,bands:n,grid:r}}const ot=null,Se=window.localStorage.getItem(ke)??ot,Ze=Se?JSON.parse(Se):null,ve=xe(Ze);ve.subscribe(l=>{l?window.localStorage.setItem(ke,JSON.stringify(l)):window.localStorage.removeItem(ke)});async function ft(){return{inputText:"",puzzle:Ze,parseError:""}}const At=Object.freeze(Object.defineProperty({__proto__:null,load:ft},Symbol.toStringTag,{value:"Module"}));function Te(l,e,t){const n=l.slice();return n[20]=e[t],n[22]=t,n}function Ae(l,e,t){const n=l.slice();return n[20]=e[t],n[24]=t,n}function ct(l){let e,t=l[2].grid[l[22]][l[24]]+"",n,s,i,r;function o(){return l[11](l[22],l[24])}return{c(){e=k("div"),n=j(t),this.h()},l(u){e=E(u,"DIV",{class:!0});var h=B(e);n=J(h,t),h.forEach(m),this.h()},h(){y(e,"class",s="letter "+l[7](l[22],l[24])+" svelte-1tit6di"),H(e,"selected",l[3]===l[22]&&l[4]===l[24]),H(e,"highlight",l[0]===l[22]||l[1]===W(l[22],l[24],l[5]))},m(u,h){p(u,e,h),T(e,n),i||(r=ne(e,"click",o),i=!0)},p(u,h){l=u,h&4&&t!==(t=l[2].grid[l[22]][l[24]]+"")&&we(n,t),h&128&&s!==(s="letter "+l[7](l[22],l[24])+" svelte-1tit6di")&&y(e,"class",s),h&152&&H(e,"selected",l[3]===l[22]&&l[4]===l[24]),h&163&&H(e,"highlight",l[0]===l[22]||l[1]===W(l[22],l[24],l[5]))},d(u){u&&m(e),i=!1,r()}}}function ht(l){let e,t=" ",n,s;return{c(){e=k("div"),e.textContent=t,this.h()},l(i){e=E(i,"DIV",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-12uxfnc"&&(e.textContent=t),this.h()},h(){y(e,"class","letter center-cell svelte-1tit6di")},m(i,r){p(i,e,r),n||(s=ne(e,"click",function(){We(l[10])&&l[10].apply(this,arguments)}),n=!0)},p(i,r){l=i},d(i){i&&m(e),n=!1,s()}}}function Ve(l){let e;function t(i,r){return i[22]===i[6]&&i[24]===i[6]?ht:ct}let s=t(l)(l);return{c(){s.c(),e=se()},l(i){s.l(i),e=se()},m(i,r){s.m(i,r),p(i,e,r)},p(i,r){s.p(i,r)},d(i){i&&m(e),s.d(i)}}}function Ne(l){let e,t,n=l[22]+1+"",s,i,r,o,u=F({length:l[5]}),h=[];for(let f=0;f<u.length;f+=1)h[f]=Ve(Ae(l,u,f));return{c(){e=k("h2"),t=j("Row "),s=j(n),i=O(),r=k("div");for(let f=0;f<h.length;f+=1)h[f].c();o=O(),this.h()},l(f){e=E(f,"H2",{class:!0});var a=B(e);t=J(a,"Row "),s=J(a,n),a.forEach(m),i=L(f),r=E(f,"DIV",{class:!0});var c=B(r);for(let _=0;_<h.length;_+=1)h[_].l(c);o=L(c),c.forEach(m),this.h()},h(){y(e,"class","visually-hidden"),y(r,"class","row svelte-1tit6di")},m(f,a){p(f,e,a),T(e,t),T(e,s),p(f,i,a),p(f,r,a);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(r,null);T(r,o)},p(f,a){if(a&1791){u=F({length:f[5]});let c;for(c=0;c<u.length;c+=1){const _=Ae(f,u,c);h[c]?h[c].p(_,a):(h[c]=Ve(_),h[c].c(),h[c].m(r,o))}for(;c<h.length;c+=1)h[c].d(1);h.length=u.length}},d(f){f&&(m(e),m(i),m(r)),_e(h,f)}}}function at(l){let e,t,n,s=F({length:l[5]}),i=[];for(let r=0;r<s.length;r+=1)i[r]=Ne(Te(l,s,r));return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0,style:!0});var o=B(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(m),this.h()},h(){y(e,"class","grid svelte-1tit6di"),R(e,"--puzzle-size",l[5])},m(r,o){p(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);t||(n=ne(window,"keydown",function(){We(l[8])&&l[8].apply(this,arguments)}),t=!0)},p(r,[o]){if(l=r,o&1791){s=F({length:l[5]});let u;for(u=0;u<s.length;u+=1){const h=Te(l,s,u);i[u]?i[u].p(h,o):(i[u]=Ne(h),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=s.length}o&32&&R(e,"--puzzle-size",l[5])},i:U,o:U,d(r){r&&m(e),_e(i,r),t=!1,n()}}}function W(l,e,t){const n=Math.min(l,t-l-1),s=Math.min(e,t-e-1);return Math.min(n,s)}function gt(l,e,t){let{puzzle:n}=e,{size:s=n.rows.length}=e,{highlightRow:i=-1}=e,{highlightBand:r=-1}=e,{selectedRow:o=-1}=e,{selectedCol:u=-1}=e;const h=Math.floor(s/2),f=()=>{if(i!=-1&&(t(1,r=-1),o!==i)){for(let d=0;d<s;d++)if(n.grid[i][d]===" "){t(3,o=i),t(4,u=d);return}t(3,o=i),t(4,u=0)}},a=()=>{if(r==-1||(t(0,i=-1),W(o,u,s)===r))return;const w=Xe(n,r);for(let I=0;I<w.length;I++){const[D,ie]=w[I];if(n.grid[D][ie]===" "){t(3,o=D),t(4,u=ie);return}}t(3,o=r),t(4,u=r)};let{getCellClass:c=(d,w)=>W(d,w,s)%2===0?"even-band":"odd-band"}=e;function _(d,w){return d>=0&&d<s&&w>=0&&w<s}function A(){return r!==-1}function G(d=!1){let w=u;return d?u>0&&(w=w-1):u<s-1&&(w=w+1,w===h&&o===h&&(w=w+1)),[o,w]}function g(d){const w=[0,1],I=[1,0],D=[0,-1],ie=[-1,0],X=W(o,u,s);let Z=[];o===X&&Z.push(w),o===s-X-1&&Z.push(D),u===X&&Z.push(ie),u===s-X-1&&Z.push(I);for(const[Q,ze]of Z){const re=o+(d?-Q:Q),Y=u+(d?-ze:ze);if(_(re,Y)&&W(re,Y,s)===X)return[re,Y]}throw new Error("Could not find next cell in band")}function b(d){return A()?g(d):G(d)}let{onKeyDown:C=d=>{if(d.altKey||d.ctrlKey||d.metaKey||o===-1||u===-1)return;let w=o,I=u;switch(d.key){case"ArrowDown":w<s-1&&(w=w+1);break;case"ArrowUp":w>0&&(w=w-1);break;case"ArrowLeft":I>0&&(I=I-1);break;case"ArrowRight":I<s-1&&(I=I+1);break;case" ":q(),d.preventDefault();return;case"Backspace":if(n.grid[o][u]===" "){[w,I]=b(!0),t(2,n.grid[w][I]=" ",n),V(w,I),d.preventDefault();return}else{t(2,n.grid[o][u]=" ",n),d.preventDefault();return}default:d.key.length===1&&(t(2,n.grid[o][u]=d.key.toUpperCase(),n),d.preventDefault()),[w,I]=b(!1)}V(w,I),d.preventDefault()}}=e;function q(){i!==-1?(t(1,r=W(o,u,s)),t(0,i=-1)):(t(0,i=o),t(1,r=-1))}let{highlight:V=(d,w,I=!1)=>{if(o===d&&u===w){I&&q();return}i!==-1?t(0,i=d):t(1,r=W(d,w,s)),t(3,o=d),t(4,u=w)}}=e,{clearHighlight:v=()=>{t(0,i=-1),t(1,r=-1)}}=e;const me=(d,w)=>V(d,w,!0);return l.$$set=d=>{"puzzle"in d&&t(2,n=d.puzzle),"size"in d&&t(5,s=d.size),"highlightRow"in d&&t(0,i=d.highlightRow),"highlightBand"in d&&t(1,r=d.highlightBand),"selectedRow"in d&&t(3,o=d.selectedRow),"selectedCol"in d&&t(4,u=d.selectedCol),"getCellClass"in d&&t(7,c=d.getCellClass),"onKeyDown"in d&&t(8,C=d.onKeyDown),"highlight"in d&&t(9,V=d.highlight),"clearHighlight"in d&&t(10,v=d.clearHighlight)},l.$$.update=()=>{l.$$.dirty&1&&i!==void 0&&f(),l.$$.dirty&2&&r!==void 0&&a()},[i,r,n,o,u,s,h,c,C,V,v,me]}class dt extends ge{constructor(e){super(),de(this,e,gt,at,ae,{puzzle:2,size:5,highlightRow:0,highlightBand:1,selectedRow:3,selectedCol:4,center:6,getCellClass:7,onKeyDown:8,highlight:9,clearHighlight:10})}get center(){return this.$$.ctx[6]}}function _t(l){let e,t,n=l[0].text+"",s;return{c(){e=k("div"),t=k("div"),s=j(n),this.h()},l(i){e=E(i,"DIV",{class:!0});var r=B(e);t=E(r,"DIV",{class:!0});var o=B(t);s=J(o,n),o.forEach(m),r.forEach(m),this.h()},h(){y(t,"class","clue-title"),y(e,"class","clue")},m(i,r){p(i,e,r),T(e,t),T(t,s)},p(i,[r]){r&1&&n!==(n=i[0].text+"")&&we(s,n)},i:U,o:U,d(i){i&&m(e)}}}function mt(l,e,t){let{clue:n}=e;return l.$$set=s=>{"clue"in s&&t(0,n=s.clue)},[n]}class zt extends ge{constructor(e){super(),de(this,e,mt,_t,ae,{clue:0})}}function qe(l,e,t){const n=l.slice();return n[7]=e[t],n[9]=t,n}function Oe(l,e,t){const n=l.slice();return n[10]=e[t],n}function vt(l){let e=l[9]+1+"",t;return{c(){t=j(e)},l(n){t=J(n,e)},m(n,s){p(n,t,s)},p:U,d(n){n&&m(t)}}}function wt(l){let e=String.fromCharCode(65+l[9])+"",t;return{c(){t=j(e)},l(n){t=J(n,e)},m(n,s){p(n,t,s)},p:U,d(n){n&&m(t)}}}function Le(l){let e,t,n,s;return t=new zt({props:{clue:l[10]}}),{c(){e=k("div"),ue(t.$$.fragment),n=O(),this.h()},l(i){e=E(i,"DIV",{class:!0});var r=B(e);oe(t.$$.fragment,r),n=L(r),r.forEach(m),this.h()},h(){y(e,"class","clues-group-clue svelte-1qy37dg")},m(i,r){p(i,e,r),fe(t,e,null),T(e,n),s=!0},p(i,r){const o={};r&2&&(o.clue=i[10]),t.$set(o)},i(i){s||(N(t.$$.fragment,i),s=!0)},o(i){P(t.$$.fragment,i),s=!1},d(i){i&&m(e),ce(t)}}}function Me(l){let e,t,n,s,i,r,o,u;function h(g,b){return g[3]?wt:vt}let f=h(l),a=f(l),c=F(l[7].clues),_=[];for(let g=0;g<c.length;g+=1)_[g]=Le(Oe(l,c,g));const A=g=>P(_[g],1,1,()=>{_[g]=null});function G(){return l[6](l[9])}return{c(){e=k("div"),t=k("div"),a.c(),n=O(),s=k("div");for(let g=0;g<_.length;g+=1)_[g].c();i=O(),this.h()},l(g){e=E(g,"DIV",{class:!0});var b=B(e);t=E(b,"DIV",{class:!0});var C=B(t);a.l(C),C.forEach(m),n=L(b),s=E(b,"DIV",{class:!0});var q=B(s);for(let V=0;V<_.length;V+=1)_[V].l(q);q.forEach(m),i=L(b),b.forEach(m),this.h()},h(){y(t,"class","clues-group-title svelte-1qy37dg"),y(s,"class","clues-group-list svelte-1qy37dg"),y(e,"class","clues-groups-group svelte-1qy37dg"),H(e,"highlightClue",l[0]===l[9]),H(e,"clueDone",Be(l[4],l[3],l[9]))},m(g,b){p(g,e,b),T(e,t),a.m(t,null),T(e,n),T(e,s);for(let C=0;C<_.length;C+=1)_[C]&&_[C].m(s,null);T(e,i),r=!0,o||(u=ne(e,"click",G),o=!0)},p(g,b){if(l=g,f===(f=h(l))&&a?a.p(l,b):(a.d(1),a=f(l),a&&(a.c(),a.m(t,null))),b&2){c=F(l[7].clues);let C;for(C=0;C<c.length;C+=1){const q=Oe(l,c,C);_[C]?(_[C].p(q,b),N(_[C],1)):(_[C]=Le(q),_[C].c(),N(_[C],1),_[C].m(s,null))}for(be(),C=c.length;C<_.length;C+=1)A(C);Ce()}(!r||b&1)&&H(e,"highlightClue",l[0]===l[9]),(!r||b&24)&&H(e,"clueDone",Be(l[4],l[3],l[9]))},i(g){if(!r){for(let b=0;b<c.length;b+=1)N(_[b]);r=!0}},o(g){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)P(_[b]);r=!1},d(g){g&&m(e),a.d(),_e(_,g),o=!1,u()}}}function bt(l){let e,t,n,s,i,r,o=F(l[1]),u=[];for(let f=0;f<o.length;f+=1)u[f]=Me(qe(l,o,f));const h=f=>P(u[f],1,1,()=>{u[f]=null});return{c(){e=k("div"),t=k("div"),n=j(l[2]),s=O(),i=k("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=E(f,"DIV",{class:!0});var a=B(e);t=E(a,"DIV",{class:!0});var c=B(t);n=J(c,l[2]),c.forEach(m),s=L(a),i=E(a,"DIV",{class:!0});var _=B(i);for(let A=0;A<u.length;A+=1)u[A].l(_);_.forEach(m),a.forEach(m),this.h()},h(){y(t,"class","clues-title svelte-1qy37dg"),y(i,"class","clues-groups svelte-1qy37dg"),y(e,"class","clues svelte-1qy37dg")},m(f,a){p(f,e,a),T(e,t),T(t,n),T(e,s),T(e,i);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(i,null);r=!0},p(f,[a]){if((!r||a&4)&&we(n,f[2]),a&59){o=F(f[1]);let c;for(c=0;c<o.length;c+=1){const _=qe(f,o,c);u[c]?(u[c].p(_,a),N(u[c],1)):(u[c]=Me(_),u[c].c(),N(u[c],1),u[c].m(i,null))}for(be(),c=o.length;c<u.length;c+=1)h(c);Ce()}},i(f){if(!r){for(let a=0;a<o.length;a+=1)N(u[a]);r=!0}},o(f){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)P(u[a]);r=!1},d(f){f&&m(e),_e(u,f)}}}function Ct(l,e,t){let{clueSection:n}=e,{clueTitle:s}=e,{useLetters:i=!1}=e,{highlightIdx:r=-1}=e,{puzzle:o}=e;const u=f=>{t(0,r=f)},h=f=>u(f);return l.$$set=f=>{"clueSection"in f&&t(1,n=f.clueSection),"clueTitle"in f&&t(2,s=f.clueTitle),"useLetters"in f&&t(3,i=f.useLetters),"highlightIdx"in f&&t(0,r=f.highlightIdx),"puzzle"in f&&t(4,o=f.puzzle)},[r,n,s,i,o,u,h]}class He extends ge{constructor(e){super(),de(this,e,Ct,bt,ae,{clueSection:1,clueTitle:2,useLetters:3,highlightIdx:0,puzzle:4})}}function Pe(l,e,t){const n=l.slice();return n[18]=e[t],n}function Ge(l){let e,t=F({length:l[6]}),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ue(Pe(l,t,s));return{c(){e=k("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0});var i=B(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(m),this.h()},h(){y(e,"class","confetti-holder svelte-io58ff"),H(e,"rounded",l[9]),H(e,"cone",l[10]),H(e,"no-gravity",l[11])},m(s,i){p(s,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(s,i){if(i&20991){t=F({length:s[6]});let r;for(r=0;r<t.length;r+=1){const o=Pe(s,t,r);n[r]?n[r].p(o,i):(n[r]=Ue(o),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}i&512&&H(e,"rounded",s[9]),i&1024&&H(e,"cone",s[10]),i&2048&&H(e,"no-gravity",s[11])},d(s){s&&m(e),_e(n,s)}}}function Ue(l){let e;return{c(){e=k("div"),this.h()},l(t){e=E(t,"DIV",{class:!0,style:!0}),B(e).forEach(m),this.h()},h(){y(e,"class","confetti svelte-io58ff"),R(e,"--fall-distance",l[8]),R(e,"--size",l[0]+"px"),R(e,"--color",l[14]()),R(e,"--skew",M(-45,45)+"deg,"+M(-45,45)+"deg"),R(e,"--rotation-xyz",M(-10,10)+", "+M(-10,10)+", "+M(-10,10)),R(e,"--rotation-deg",M(0,360)+"deg"),R(e,"--translate-y-multiplier",M(l[2][0],l[2][1])),R(e,"--translate-x-multiplier",M(l[1][0],l[1][1])),R(e,"--scale",.1*M(2,10)),R(e,"--transition-duration",l[4]?`calc(${l[3]}ms * var(--scale))`:`${l[3]}ms`),R(e,"--transition-delay",M(l[5][0],l[5][1])+"ms"),R(e,"--transition-iteration-count",l[4]?"infinite":l[7]),R(e,"--x-spread",1-l[12])},m(t,n){p(t,e,n)},p(t,n){n&256&&R(e,"--fall-distance",t[8]),n&1&&R(e,"--size",t[0]+"px"),n&4&&R(e,"--translate-y-multiplier",M(t[2][0],t[2][1])),n&2&&R(e,"--translate-x-multiplier",M(t[1][0],t[1][1])),n&24&&R(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),n&32&&R(e,"--transition-delay",M(t[5][0],t[5][1])+"ms"),n&144&&R(e,"--transition-iteration-count",t[4]?"infinite":t[7]),n&4096&&R(e,"--x-spread",1-t[12])},d(t){t&&m(e)}}}function pt(l){let e,t=!l[13]&&Ge(l);return{c(){t&&t.c(),e=se()},l(n){t&&t.l(n),e=se()},m(n,s){t&&t.m(n,s),p(n,e,s)},p(n,[s]){n[13]?t&&(t.d(1),t=null):t?t.p(n,s):(t=Ge(n),t.c(),t.m(e.parentNode,e))},i:U,o:U,d(n){n&&m(e),t&&t.d(n)}}}function M(l,e){return Math.random()*(e-l)+l}function kt(l,e,t){let{size:n=10}=e,{x:s=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:r=2e3}=e,{infinite:o=!1}=e,{delay:u=[0,50]}=e,{colorRange:h=[0,360]}=e,{colorArray:f=[]}=e,{amount:a=50}=e,{iterationCount:c=1}=e,{fallDistance:_="100px"}=e,{rounded:A=!1}=e,{cone:G=!1}=e,{noGravity:g=!1}=e,{xSpread:b=.15}=e,{destroyOnComplete:C=!0}=e,q=!1;$e(()=>{!C||o||c=="infinite"||setTimeout(()=>t(13,q=!0),(r+u[1])*c)});function V(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(M(h[0],h[1]))}, 75%, 50%`}return l.$$set=v=>{"size"in v&&t(0,n=v.size),"x"in v&&t(1,s=v.x),"y"in v&&t(2,i=v.y),"duration"in v&&t(3,r=v.duration),"infinite"in v&&t(4,o=v.infinite),"delay"in v&&t(5,u=v.delay),"colorRange"in v&&t(15,h=v.colorRange),"colorArray"in v&&t(16,f=v.colorArray),"amount"in v&&t(6,a=v.amount),"iterationCount"in v&&t(7,c=v.iterationCount),"fallDistance"in v&&t(8,_=v.fallDistance),"rounded"in v&&t(9,A=v.rounded),"cone"in v&&t(10,G=v.cone),"noGravity"in v&&t(11,g=v.noGravity),"xSpread"in v&&t(12,b=v.xSpread),"destroyOnComplete"in v&&t(17,C=v.destroyOnComplete)},[n,s,i,r,o,u,a,c,_,A,G,g,b,q,V,h,f,C]}class Et extends ge{constructor(e){super(),de(this,e,kt,pt,ae,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function yt(l){let e,t="<h1>Enter Puzzle</h1> <p>Paste your puzzle here:</p>",n,s,i,r,o,u="let's play",h,f,a=l[0].parseError&&Fe(l);return{c(){e=k("div"),e.innerHTML=t,n=O(),a&&a.c(),s=O(),i=k("textarea"),r=O(),o=k("button"),o.textContent=u,this.h()},l(c){e=E(c,"DIV",{"data-svelte-h":!0}),he(e)!=="svelte-1tb1k6x"&&(e.innerHTML=t),n=L(c),a&&a.l(c),s=L(c),i=E(c,"TEXTAREA",{rows:!0}),B(i).forEach(m),r=L(c),o=E(c,"BUTTON",{"data-svelte-h":!0}),he(o)!=="svelte-nl4m8v"&&(o.textContent=u),this.h()},h(){y(i,"rows","20")},m(c,_){p(c,e,_),p(c,n,_),a&&a.m(c,_),p(c,s,_),p(c,i,_),ye(i,l[0].inputText),p(c,r,_),p(c,o,_),h||(f=[ne(i,"input",l[12]),ne(o,"click",l[3])],h=!0)},p(c,_){c[0].parseError?a?a.p(c,_):(a=Fe(c),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),_&1&&ye(i,c[0].inputText)},i:U,o:U,d(c){c&&(m(e),m(n),m(s),m(i),m(r),m(o)),a&&a.d(c),h=!1,et(f)}}}function Dt(l){let e=Re(l[0].puzzle),t,n,s,i,r,o,u,h,f,a,c,_,A,G,g,b,C,q,V,v,me="⚠️ delete puzzle immediately ⚠️",d,w,I,D=e&&Ke();function ie(z){l[5](z)}function X(z){l[6](z)}function Z(z){l[7](z)}let Q={};l[1]!==void 0&&(Q.highlightRow=l[1]),l[2]!==void 0&&(Q.highlightBand=l[2]),l[0].puzzle!==void 0&&(Q.puzzle=l[0].puzzle),i=new dt({props:Q}),ee.push(()=>le(i,"highlightRow",ie)),ee.push(()=>le(i,"highlightBand",X)),ee.push(()=>le(i,"puzzle",Z));function ze(z){l[8](z)}function re(z){l[9](z)}let Y={clueTitle:"Rows",clueSection:l[0].puzzle.rows};l[0].puzzle!==void 0&&(Y.puzzle=l[0].puzzle),l[1]!==void 0&&(Y.highlightIdx=l[1]),c=new He({props:Y}),ee.push(()=>le(c,"puzzle",ze)),ee.push(()=>le(c,"highlightIdx",re));function Qe(z){l[10](z)}function Ye(z){l[11](z)}let pe={clueTitle:"Bands",clueSection:l[0].puzzle.bands,useLetters:!0};return l[0].puzzle!==void 0&&(pe.puzzle=l[0].puzzle),l[2]!==void 0&&(pe.highlightIdx=l[2]),b=new He({props:pe}),ee.push(()=>le(b,"puzzle",Qe)),ee.push(()=>le(b,"highlightIdx",Ye)),{c(){D&&D.c(),t=O(),n=k("div"),s=k("div"),ue(i.$$.fragment),h=O(),f=k("div"),a=k("div"),ue(c.$$.fragment),G=O(),g=k("div"),ue(b.$$.fragment),V=O(),v=k("button"),v.textContent=me,this.h()},l(z){D&&D.l(z),t=L(z),n=E(z,"DIV",{class:!0});var S=B(n);s=E(S,"DIV",{class:!0});var x=B(s);oe(i.$$.fragment,x),x.forEach(m),h=L(S),f=E(S,"DIV",{class:!0});var K=B(f);a=E(K,"DIV",{class:!0});var $=B(a);oe(c.$$.fragment,$),$.forEach(m),G=L(K),g=E(K,"DIV",{class:!0});var Ee=B(g);oe(b.$$.fragment,Ee),Ee.forEach(m),K.forEach(m),S.forEach(m),V=L(z),v=E(z,"BUTTON",{class:!0,"data-svelte-h":!0}),he(v)!=="svelte-e2wxiq"&&(v.textContent=me),this.h()},h(){y(s,"class","puzzle-grid svelte-qukzan"),y(a,"class","clue-set svelte-qukzan"),y(g,"class","clue-set svelte-qukzan"),y(f,"class","clue-sets svelte-qukzan"),y(n,"class","puzzle svelte-qukzan"),y(v,"class","clean-button svelte-qukzan")},m(z,S){D&&D.m(z,S),p(z,t,S),p(z,n,S),T(n,s),fe(i,s,null),T(n,h),T(n,f),T(f,a),fe(c,a,null),T(f,G),T(f,g),fe(b,g,null),p(z,V,S),p(z,v,S),d=!0,w||(I=ne(v,"click",l[4]),w=!0)},p(z,S){S&1&&(e=Re(z[0].puzzle)),e?D?S&1&&N(D,1):(D=Ke(),D.c(),N(D,1),D.m(t.parentNode,t)):D&&(be(),P(D,1,1,()=>{D=null}),Ce());const x={};!r&&S&2&&(r=!0,x.highlightRow=z[1],te(()=>r=!1)),!o&&S&4&&(o=!0,x.highlightBand=z[2],te(()=>o=!1)),!u&&S&1&&(u=!0,x.puzzle=z[0].puzzle,te(()=>u=!1)),i.$set(x);const K={};S&1&&(K.clueSection=z[0].puzzle.rows),!_&&S&1&&(_=!0,K.puzzle=z[0].puzzle,te(()=>_=!1)),!A&&S&2&&(A=!0,K.highlightIdx=z[1],te(()=>A=!1)),c.$set(K);const $={};S&1&&($.clueSection=z[0].puzzle.bands),!C&&S&1&&(C=!0,$.puzzle=z[0].puzzle,te(()=>C=!1)),!q&&S&4&&(q=!0,$.highlightIdx=z[2],te(()=>q=!1)),b.$set($)},i(z){d||(N(D),N(i.$$.fragment,z),N(c.$$.fragment,z),N(b.$$.fragment,z),d=!0)},o(z){P(D),P(i.$$.fragment,z),P(c.$$.fragment,z),P(b.$$.fragment,z),d=!1},d(z){z&&(m(t),m(n),m(V),m(v)),D&&D.d(z),ce(i),ce(c),ce(b),w=!1,I()}}}function Fe(l){let e,t="There was an error parsing the puzzle:",n,s,i=l[0].parseError+"",r;return{c(){e=k("p"),e.textContent=t,n=O(),s=k("pre"),r=j(i)},l(o){e=E(o,"P",{"data-svelte-h":!0}),he(e)!=="svelte-1p4envb"&&(e.textContent=t),n=L(o),s=E(o,"PRE",{});var u=B(s);r=J(u,i),u.forEach(m)},m(o,u){p(o,e,u),p(o,n,u),p(o,s,u),T(s,r)},p(o,u){u&1&&i!==(i=o[0].parseError+"")&&we(r,i)},d(o){o&&(m(e),m(n),m(s))}}}function Ke(l){let e,t,n;return t=new Et({props:{amount:100,x:[-1.5,3],y:[2.5,1],size:50,infinite:!0,fallDistance:"100vh",cone:!0,rounded:!0,colorArray:["var(--color-theme-1)","var(--color-theme-2)","#C724B1","#71DBD4","#642F6C","#58A7AF","#B3B0C4","#3A3A59"]}}),{c(){e=k("div"),ue(t.$$.fragment),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=B(e);oe(t.$$.fragment,i),i.forEach(m),this.h()},h(){y(e,"class","confetti-container svelte-qukzan")},m(s,i){p(s,e,i),fe(t,e,null),n=!0},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){P(t.$$.fragment,s),n=!1},d(s){s&&m(e),ce(t)}}}function It(l){let e,t,n,s,i;const r=[Dt,yt],o=[];function u(h,f){return h[0].puzzle&&h[0].puzzle.rows&&h[0].puzzle.bands?0:1}return t=u(l),n=o[t]=r[t](l),{c(){e=O(),n.c(),s=se(),this.h()},l(h){tt("svelte-n356qm",document.head).forEach(m),e=L(h),n.l(h),s=se(),this.h()},h(){document.title="drumline"},m(h,f){p(h,e,f),o[t].m(h,f),p(h,s,f),i=!0},p(h,[f]){let a=t;t=u(h),t===a?o[t].p(h,f):(be(),P(o[a],1,1,()=>{o[a]=null}),Ce(),n=o[t],n?n.p(h,f):(n=o[t]=r[t](h),n.c()),N(n,1),n.m(s.parentNode,s))},i(h){i||(N(n),i=!0)},o(h){P(n),i=!1},d(h){h&&(m(e),m(s)),o[t].d(h)}}}function Rt(l,e,t){let{data:n}=e,{highlightRow:s=-1}=e,{highlightBand:i=-1}=e;const r=()=>{try{const g=ut(n.inputText);ve.set(g),t(0,n.puzzle=g,n),t(0,n.parseError="",n)}catch(g){g instanceof Error&&t(0,n.parseError=g.message,n)}},o=()=>{t(0,n.inputText="",n),t(0,n.puzzle=null,n),t(0,n.parseError="",n),ve.set(null)};function u(g){s=g,t(1,s)}function h(g){i=g,t(2,i)}function f(g){l.$$.not_equal(n.puzzle,g)&&(n.puzzle=g,t(0,n))}function a(g){l.$$.not_equal(n.puzzle,g)&&(n.puzzle=g,t(0,n))}function c(g){s=g,t(1,s)}function _(g){l.$$.not_equal(n.puzzle,g)&&(n.puzzle=g,t(0,n))}function A(g){i=g,t(2,i)}function G(){n.inputText=this.value,t(0,n)}return l.$$set=g=>{"data"in g&&t(0,n=g.data),"highlightRow"in g&&t(1,s=g.highlightRow),"highlightBand"in g&&t(2,i=g.highlightBand)},l.$$.update=()=>{l.$$.dirty&1&&n.puzzle&&ve.set(n.puzzle)},[n,s,i,r,o,u,h,f,a,c,_,A,G]}class Vt extends ge{constructor(e){super(),de(this,e,Rt,It,ae,{data:0,highlightRow:1,highlightBand:2})}}export{Vt as component,At as universal};
